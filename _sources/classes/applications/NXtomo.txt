.. auto-generated by script ../../../../utils/nxdl2rst.py from the NXDL source ../../../../applications/NXtomo.nxdl.xml

.. index::
    ! NXtomo (application definition)
    ! tomo (application definition)
    see: tomo (application definition); NXtomo

.. _NXtomo:

======
NXtomo
======

**Status**:

  application definition, extends :ref:`NXobject`, version 2.0

**Description**:

  This is the application definition for x-ray or neutron tomography raw data. In tomography 
  a number of dark field images are measured, some bright field images and, of course the sample. 
  In order to distinguish between them images carry a image_key.

**Symbols**:

  These symbols will be used below to coordinate datasets with the same shape.

  **nFrames**: number of frames

  **xsize**: number of pixels in X direction

  **ysize**: number of pixels in Y direction

**Groups cited**:
  :ref:`NXdata`, :ref:`NXdetector`, :ref:`NXentry`, :ref:`NXinstrument`, :ref:`NXmonitor`, :ref:`NXsample`, :ref:`NXsource`

.. index:: NXentry (base class); used in application definition, NXinstrument (base class); used in application definition, NXsource (base class); used in application definition, NXdetector (base class); used in application definition, NXsample (base class); used in application definition, NXmonitor (base class); used in application definition, NXdata (base class); used in application definition

**Structure**:

  **entry**: :ref:`NXentry`


    .. index:: title (data field)

    **title**: :ref:`NX_CHAR <NX_CHAR>`


    .. index:: start_time (data field)

    **start_time**: :ref:`NX_DATE_TIME <NX_DATE_TIME>`


    .. index:: end_time (data field)

    **end_time**: :ref:`NX_DATE_TIME <NX_DATE_TIME>`


    .. index:: definition (data field)

    **definition**: :ref:`NX_CHAR <NX_CHAR>`

      Official NeXus NXDL schema to which this file conforms

      Obligatory value:  ``NXtomo``

    **instrument**: :ref:`NXinstrument`


      **(source)**: :ref:`NXsource`


        .. index:: type (data field)

        **type**: :ref:`NX_CHAR <NX_CHAR>`


        .. index:: name (data field)

        **name**: :ref:`NX_CHAR <NX_CHAR>`


        .. index:: probe (data field)

        **probe**: :ref:`NX_CHAR <NX_CHAR>`


          Any of these values: ``neutron`` | ``x-ray`` | ``electron``

      **detector**: :ref:`NXdetector`


        .. index:: data (data field)

        **data[nFrames, xsize, ysize]**: :ref:`NX_INT <NX_INT>`


        .. index:: image_key (data field)

        **image_key[nFrames]**: :ref:`NX_INT <NX_INT>`

          In order
          to distinguish between sample projectrions, dark and flat
          images, a magic number is recorded per frame.
          The key is as follows:

          * projection = 0
          * flat field = 1
          * dark field = 2
          * invalid = 3

        .. index:: x_pixel_size (data field)

        **x_pixel_size**: :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_LENGTH <NX_LENGTH>`}


        .. index:: y_pixel_size (data field)

        **y_pixel_size**: :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_LENGTH <NX_LENGTH>`}


        .. index:: distance (data field)

        **distance**: :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_LENGTH <NX_LENGTH>`}

          Distance between detector and sample

        .. index:: x_rotation_axis_pixel_position (data field)

        **x_rotation_axis_pixel_position**: :ref:`NX_FLOAT <NX_FLOAT>`


        .. index:: y_rotation_axis_pixel_position (data field)

        **y_rotation_axis_pixel_position**: :ref:`NX_FLOAT <NX_FLOAT>`


    **sample**: :ref:`NXsample`


      .. index:: name (data field)

      **name**: :ref:`NX_CHAR <NX_CHAR>`

        Descriptive name of sample

      .. index:: rotation_angle (data field)

      **rotation_angle[nFrames]**: :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_ANGLE <NX_ANGLE>`}

        In practice this axis is always aligned along one pixel direction on the detector and usually vertical.
        There are experiments with horizontal rotation axes, so this would need to be indicated somehow.
        For now the best way for that is an open question.

      .. index:: x_translation (data field)

      **x_translation[nFrames]**: :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_LENGTH <NX_LENGTH>`}


      .. index:: y_translation (data field)

      **y_translation[nFrames]**: :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_LENGTH <NX_LENGTH>`}


      .. index:: z_translation (data field)

      **z_translation[nFrames]**: :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_LENGTH <NX_LENGTH>`}


    **control**: :ref:`NXmonitor`


      .. index:: data (data field)

      **data[nFrames]**: :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_ANY <NX_ANY>`}

        Total integral monitor counts for each measured frame. Allows a to correction for
        fluctuations in the beam between frames.

    **data**: :ref:`NXdata`


      **data** --> /NXentry/NXinstrument/detector:NXdetector/data


      **rotation_angle** --> /NXentry/NXsample/rotation_angle


      **image_key** --> /NXentry/NXinstrument/detector:NXdetector/image_key


**Source**:
  Automatically generated from https://github.com/nexusformat/definitions/blob/master/applications/NXtomo.nxdl.xml
