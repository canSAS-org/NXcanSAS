

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>h5py example writing the simplest NeXus data file &mdash; NeXus: Manual 3.1 documentation</title>
    
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '3.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="top" title="NeXus: Manual 3.1 documentation" href="../../index.html" />
    <link rel="up" title="2.2.2. Python Examples using h5py" href="index.html" />
    <link rel="next" title="h5py example writing a simple NeXus data file with links" href="writer_2_1.html" />
    <link rel="prev" title="2.2.2. Python Examples using h5py" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="writer_2_1.html" title="h5py example writing a simple NeXus data file with links"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="2.2.2. Python Examples using h5py"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">NeXus: Manual 3.1 documentation</a> &raquo;</li>
          <li><a href="../index.html" >2. Examples of writing and reading NeXus data files</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">2.2.2. Python Examples using <tt class="docutils literal"><span class="pre">h5py</span></tt></a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/nexuslogo.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">2.2.2. Python Examples using <tt class="docutils literal"><span class="pre">h5py</span></tt></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="writer_2_1.html"
                        title="next chapter"><tt class="docutils literal"><span class="pre">h5py</span></tt> example writing a simple NeXus data file with links</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/examples/h5py/writer_1_3.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="h5py-example-writing-the-simplest-nexus-data-file">
<span id="example-writer-1-3"></span><h1><tt class="docutils literal"><span class="pre">h5py</span></tt> example writing the simplest NeXus data file<a class="headerlink" href="#h5py-example-writing-the-simplest-nexus-data-file" title="Permalink to this headline">Â¶</a></h1>
<p>In this example, the 1-D scan data will be written into the simplest
possible NeXus HDF5 data file, containing only the required NeXus components.
NeXus requires at least one <a class="reference internal" href="../../classes/base_classes/NXentry.html#nxentry"><em>NXentry</em></a> group at the root level of
an HDF5 file.  The <tt class="docutils literal"><span class="pre">NXentry</span></tt> group contains <em>all the data and associated
information that comprise a single measurement.</em>
NeXus also requires that each <tt class="docutils literal"><span class="pre">NXentry</span></tt> group must contain at least
one <a class="reference internal" href="../../classes/base_classes/NXdata.html#nxdata"><em>NXdata</em></a> group.  <tt class="docutils literal"><span class="pre">NXdata</span></tt> is used to describe the
plottable data in the <tt class="docutils literal"><span class="pre">NXentry</span></tt> group.  The simplest place to store
data in a NeXus file is directly in the <tt class="docutils literal"><span class="pre">NXdata</span></tt> group,
as shown in the next figure.</p>
<div class="compound">
<div class="compound-last figure" id="fig-simple-example-h5py">
<img alt="fig.simple-example-h5py" src="../../_images/ex_writer_1_3.png" style="width: 50%;" />
<p class="caption">Simple Example</p>
</div>
</div>
<p>In the <a class="reference internal" href="#fig-simple-example-h5py"><em>above figure</em></a>,
the data file (<tt class="docutils literal"><span class="pre">writer_1_3_h5py.hdf5</span></tt>) contains
a hierarchy of items, starting with an <tt class="docutils literal"><span class="pre">NXentry</span></tt> named <tt class="docutils literal"><span class="pre">entry</span></tt>.
(The full HDF5 path reference, <tt class="docutils literal"><span class="pre">/entry</span></tt> in this case, is shown to the right of each
component in the data structure.)  The next <tt class="docutils literal"><span class="pre">h5py</span></tt> code
example will show how to build an HDF5 data file with this structure.
Starting with the numerical data described above,
the only information
written to the file is the <em>absolute</em> minimum information NeXus requires.
In this example, you can see how the HDF5 file is created, how
<a class="reference internal" href="../../design.html#design-groups"><em>Data Groups</em></a> and datasets (<a class="reference internal" href="../../design.html#design-fields"><em>Data Fields</em></a>)
are created, and how <a class="reference internal" href="../../design.html#design-attributes"><em>Data Attributes</em></a> are assigned.
Note particularly the <tt class="docutils literal"><span class="pre">NX_class</span></tt> attribute on each HDF5 group that
describes which of the NeXus <a class="reference internal" href="../../classes/base_classes/index.html#base-class-definitions"><em>Base Class Definitions</em></a> is being used.
When the next Python program (<tt class="docutils literal"><span class="pre">writer_1_3_h5py.py</span></tt>) is run from the
command line (and there are no problems), the <tt class="docutils literal"><span class="pre">writer_1_3_h5py.hdf5</span></tt>
file is generated.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35</pre></div></td><td class="code"><div class="highlight"><pre><span class="c">#!/usr/bin/env python</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Writes the simplest NeXus HDF5 file using h5py</span>
<span class="sd">according to the example from Figure 1.3 </span>
<span class="sd">in the Introduction chapter</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="kn">import</span> <span class="nn">h5py</span>
<span class="kn">import</span> <span class="nn">numpy</span>

<span class="n">INPUT_FILE</span> <span class="o">=</span> <span class="s">&#39;input.dat&#39;</span>
<span class="n">HDF5_FILE</span> <span class="o">=</span> <span class="s">&#39;writer_1_3_h5py.hdf5&#39;</span>

<span class="c">#---------------------------</span>

<span class="n">tthData</span><span class="p">,</span> <span class="n">countsData</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="n">INPUT_FILE</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">HDF5_FILE</span><span class="p">,</span> <span class="s">&quot;w&quot;</span><span class="p">)</span>  <span class="c"># create the HDF5 NeXus file</span>
<span class="c"># since this is a simple example, no attributes are used at this point</span>

<span class="n">nxentry</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">create_group</span><span class="p">(</span><span class="s">&#39;Scan&#39;</span><span class="p">)</span>
<span class="n">nxentry</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s">&quot;NX_class&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;NXentry&#39;</span>

<span class="n">nxdata</span> <span class="o">=</span> <span class="n">nxentry</span><span class="o">.</span><span class="n">create_group</span><span class="p">(</span><span class="s">&#39;data&#39;</span><span class="p">)</span>
<span class="n">nxdata</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s">&quot;NX_class&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;NXdata&#39;</span>

<span class="n">tth</span> <span class="o">=</span> <span class="n">nxdata</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s">&quot;two_theta&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">tthData</span><span class="p">)</span>
<span class="n">tth</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s">&#39;units&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;degrees&quot;</span>

<span class="n">counts</span> <span class="o">=</span> <span class="n">nxdata</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s">&quot;counts&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">countsData</span><span class="p">)</span>
<span class="n">counts</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s">&#39;units&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;counts&quot;</span>
<span class="n">counts</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s">&#39;signal&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">counts</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s">&#39;axes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;two_theta&quot;</span>

<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>   <span class="c"># be CERTAIN to close the file</span>
</pre></div>
</td></tr></table></div>
<p>We wish to make things a bit simpler for ourselves when creating the common
structures we use in our data files.  To help, we gather together some of the
common concepts such as <em>create a file</em>,
<em>create a NeXus group</em>,
<em>create a dataset</em> and start to build a helper library.
(See <a class="reference internal" href="index.html#h5py-example-my-lib"><em>mylib support module</em></a> for more details.)
Here, we call it <tt class="docutils literal"><span class="pre">my_lib</span></tt>.  Applying it to the simple example above, our
code only becomes a couple lines shorter!  (Let&#8217;s hope the library starts to help in larger or
more complicated projects.)  Here&#8217;s the revision that replaces direct calls to <tt class="docutils literal"><span class="pre">numpy</span></tt>
and <tt class="docutils literal"><span class="pre">h5py</span></tt> with calls to our library.  It generates the file
<tt class="docutils literal"><span class="pre">writer_1_3.hdf5</span></tt>.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></div></td><td class="code"><div class="highlight"><pre><span class="c">#!/usr/bin/env python</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Writes the simplest NeXus HDF5 file using </span>
<span class="sd">a simple helper library with h5py and numpy calls</span>
<span class="sd">according to the example from Figure 1.3 </span>
<span class="sd">in the Introduction chapter</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="kn">import</span> <span class="nn">my_lib</span>

<span class="n">INPUT_FILE</span> <span class="o">=</span> <span class="s">&#39;input.dat&#39;</span>
<span class="n">HDF5_FILE</span> <span class="o">=</span> <span class="s">&#39;writer_1_3.hdf5&#39;</span>

<span class="c">#---------------------------</span>

<span class="n">tthData</span><span class="p">,</span> <span class="n">countsData</span> <span class="o">=</span> <span class="n">my_lib</span><span class="o">.</span><span class="n">get2ColumnData</span><span class="p">(</span><span class="n">INPUT_FILE</span><span class="p">)</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">my_lib</span><span class="o">.</span><span class="n">makeFile</span><span class="p">(</span><span class="n">HDF5_FILE</span><span class="p">)</span>
<span class="c"># since this is a simple example, no attributes are used at this point</span>

<span class="n">nxentry</span> <span class="o">=</span> <span class="n">my_lib</span><span class="o">.</span><span class="n">makeGroup</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s">&#39;Scan&#39;</span><span class="p">,</span> <span class="s">&#39;NXentry&#39;</span><span class="p">)</span>
<span class="n">nxdata</span> <span class="o">=</span> <span class="n">my_lib</span><span class="o">.</span><span class="n">makeGroup</span><span class="p">(</span><span class="n">nxentry</span><span class="p">,</span> <span class="s">&#39;data&#39;</span><span class="p">,</span> <span class="s">&#39;NXdata&#39;</span><span class="p">)</span>

<span class="n">my_lib</span><span class="o">.</span><span class="n">makeDataset</span><span class="p">(</span><span class="n">nxdata</span><span class="p">,</span> <span class="s">&quot;two_theta&quot;</span><span class="p">,</span> <span class="n">tthData</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s">&#39;degrees&#39;</span><span class="p">)</span>
<span class="n">my_lib</span><span class="o">.</span><span class="n">makeDataset</span><span class="p">(</span><span class="n">nxdata</span><span class="p">,</span> <span class="s">&quot;counts&quot;</span><span class="p">,</span> <span class="n">countsData</span><span class="p">,</span> 
                   <span class="n">units</span><span class="o">=</span><span class="s">&#39;counts&#39;</span><span class="p">,</span> <span class="n">signal</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="s">&#39;two_theta&#39;</span><span class="p">)</span>

<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>   <span class="c"># be CERTAIN to close the file</span>
</pre></div>
</td></tr></table></div>
<p>One of the tools provided with the HDF5 support libraries is
the <tt class="docutils literal"><span class="pre">h5dump</span></tt> command, a command-line tool to print out the
contents of an HDF5 data file.  With no better tool in place (the
output is verbose), this is a good tool to investigate what has been
written to the HDF5 file.  View this output from the command line
using <tt class="docutils literal"><span class="pre">h5dump</span> <span class="pre">writer_1_3.hdf5</span></tt>.  Compare the data contents with
the numbers shown above.  Note that the various HDF5 data types have all been
decided by the <tt class="docutils literal"><span class="pre">h5py</span></tt> support package.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The only difference between this file and one written using the NAPI
is that the NAPI file will have some additional, optional attributes set at the root
level of the file that tells the original file name, time it was written, and some version information
about the software involved.</p>
</div>
<div class="highlight-guess"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102</pre></div></td><td class="code"><div class="highlight"><pre><span class="n">HDF5</span> <span class="s">&quot;writer_1_3.hdf5&quot;</span> <span class="p">{</span>
<span class="n">GROUP</span> <span class="s">&quot;/&quot;</span> <span class="p">{</span>
   <span class="n">GROUP</span> <span class="s">&quot;Scan&quot;</span> <span class="p">{</span>
      <span class="n">ATTRIBUTE</span> <span class="s">&quot;NX_class&quot;</span> <span class="p">{</span>
         <span class="n">DATATYPE</span>  <span class="n">H5T_STRING</span> <span class="p">{</span>
               <span class="n">STRSIZE</span> <span class="mi">7</span><span class="p">;</span>
               <span class="n">STRPAD</span> <span class="n">H5T_STR_NULLPAD</span><span class="p">;</span>
               <span class="n">CSET</span> <span class="n">H5T_CSET_ASCII</span><span class="p">;</span>
               <span class="n">CTYPE</span> <span class="n">H5T_C_S1</span><span class="p">;</span>
            <span class="p">}</span>
         <span class="n">DATASPACE</span>  <span class="n">SCALAR</span>
         <span class="n">DATA</span> <span class="p">{</span>
         <span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">:</span> <span class="s">&quot;NXentry&quot;</span>
         <span class="p">}</span>
      <span class="p">}</span>
      <span class="n">GROUP</span> <span class="s">&quot;data&quot;</span> <span class="p">{</span>
         <span class="n">ATTRIBUTE</span> <span class="s">&quot;NX_class&quot;</span> <span class="p">{</span>
            <span class="n">DATATYPE</span>  <span class="n">H5T_STRING</span> <span class="p">{</span>
                  <span class="n">STRSIZE</span> <span class="mi">6</span><span class="p">;</span>
                  <span class="n">STRPAD</span> <span class="n">H5T_STR_NULLPAD</span><span class="p">;</span>
                  <span class="n">CSET</span> <span class="n">H5T_CSET_ASCII</span><span class="p">;</span>
                  <span class="n">CTYPE</span> <span class="n">H5T_C_S1</span><span class="p">;</span>
               <span class="p">}</span>
            <span class="n">DATASPACE</span>  <span class="n">SCALAR</span>
            <span class="n">DATA</span> <span class="p">{</span>
            <span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">:</span> <span class="s">&quot;NXdata&quot;</span>
            <span class="p">}</span>
         <span class="p">}</span>
         <span class="n">DATASET</span> <span class="s">&quot;counts&quot;</span> <span class="p">{</span>
            <span class="n">DATATYPE</span>  <span class="n">H5T_STD_I32LE</span>
            <span class="n">DATASPACE</span>  <span class="n">SIMPLE</span> <span class="p">{</span> <span class="p">(</span> <span class="mi">31</span> <span class="p">)</span> <span class="o">/</span> <span class="p">(</span> <span class="mi">31</span> <span class="p">)</span> <span class="p">}</span>
            <span class="n">DATA</span> <span class="p">{</span>
            <span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">:</span> <span class="mi">1037</span><span class="p">,</span> <span class="mi">1318</span><span class="p">,</span> <span class="mi">1704</span><span class="p">,</span> <span class="mi">2857</span><span class="p">,</span> <span class="mi">4516</span><span class="p">,</span> <span class="mi">9998</span><span class="p">,</span> <span class="mi">23819</span><span class="p">,</span> <span class="mi">31662</span><span class="p">,</span> <span class="mi">40458</span><span class="p">,</span>
            <span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="o">:</span> <span class="mi">49087</span><span class="p">,</span> <span class="mi">56514</span><span class="p">,</span> <span class="mi">63499</span><span class="p">,</span> <span class="mi">66802</span><span class="p">,</span> <span class="mi">66863</span><span class="p">,</span> <span class="mi">66599</span><span class="p">,</span> <span class="mi">66206</span><span class="p">,</span> <span class="mi">65747</span><span class="p">,</span>
            <span class="p">(</span><span class="mi">17</span><span class="p">)</span><span class="o">:</span> <span class="mi">65250</span><span class="p">,</span> <span class="mi">64129</span><span class="p">,</span> <span class="mi">63044</span><span class="p">,</span> <span class="mi">60796</span><span class="p">,</span> <span class="mi">56795</span><span class="p">,</span> <span class="mi">51550</span><span class="p">,</span> <span class="mi">43710</span><span class="p">,</span> <span class="mi">29315</span><span class="p">,</span>
            <span class="p">(</span><span class="mi">25</span><span class="p">)</span><span class="o">:</span> <span class="mi">19782</span><span class="p">,</span> <span class="mi">12992</span><span class="p">,</span> <span class="mi">6622</span><span class="p">,</span> <span class="mi">4198</span><span class="p">,</span> <span class="mi">2248</span><span class="p">,</span> <span class="mi">1321</span>
            <span class="p">}</span>
            <span class="n">ATTRIBUTE</span> <span class="s">&quot;units&quot;</span> <span class="p">{</span>
               <span class="n">DATATYPE</span>  <span class="n">H5T_STRING</span> <span class="p">{</span>
                     <span class="n">STRSIZE</span> <span class="mi">6</span><span class="p">;</span>
                     <span class="n">STRPAD</span> <span class="n">H5T_STR_NULLPAD</span><span class="p">;</span>
                     <span class="n">CSET</span> <span class="n">H5T_CSET_ASCII</span><span class="p">;</span>
                     <span class="n">CTYPE</span> <span class="n">H5T_C_S1</span><span class="p">;</span>
                  <span class="p">}</span>
               <span class="n">DATASPACE</span>  <span class="n">SCALAR</span>
               <span class="n">DATA</span> <span class="p">{</span>
               <span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">:</span> <span class="s">&quot;counts&quot;</span>
               <span class="p">}</span>
            <span class="p">}</span>
            <span class="n">ATTRIBUTE</span> <span class="s">&quot;signal&quot;</span> <span class="p">{</span>
               <span class="n">DATATYPE</span>  <span class="n">H5T_STRING</span> <span class="p">{</span>
                     <span class="n">STRSIZE</span> <span class="mi">1</span><span class="p">;</span>
                     <span class="n">STRPAD</span> <span class="n">H5T_STR_NULLPAD</span><span class="p">;</span>
                     <span class="n">CSET</span> <span class="n">H5T_CSET_ASCII</span><span class="p">;</span>
                     <span class="n">CTYPE</span> <span class="n">H5T_C_S1</span><span class="p">;</span>
                  <span class="p">}</span>
               <span class="n">DATASPACE</span>  <span class="n">SCALAR</span>
               <span class="n">DATA</span> <span class="p">{</span>
               <span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">:</span> <span class="s">&quot;1&quot;</span>
               <span class="p">}</span>
            <span class="p">}</span>
            <span class="n">ATTRIBUTE</span> <span class="s">&quot;axes&quot;</span> <span class="p">{</span>
               <span class="n">DATATYPE</span>  <span class="n">H5T_STRING</span> <span class="p">{</span>
                     <span class="n">STRSIZE</span> <span class="mi">9</span><span class="p">;</span>
                     <span class="n">STRPAD</span> <span class="n">H5T_STR_NULLPAD</span><span class="p">;</span>
                     <span class="n">CSET</span> <span class="n">H5T_CSET_ASCII</span><span class="p">;</span>
                     <span class="n">CTYPE</span> <span class="n">H5T_C_S1</span><span class="p">;</span>
                  <span class="p">}</span>
               <span class="n">DATASPACE</span>  <span class="n">SCALAR</span>
               <span class="n">DATA</span> <span class="p">{</span>
               <span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">:</span> <span class="s">&quot;two_theta&quot;</span>
               <span class="p">}</span>
            <span class="p">}</span>
         <span class="p">}</span>
         <span class="n">DATASET</span> <span class="s">&quot;two_theta&quot;</span> <span class="p">{</span>
            <span class="n">DATATYPE</span>  <span class="n">H5T_IEEE_F64LE</span>
            <span class="n">DATASPACE</span>  <span class="n">SIMPLE</span> <span class="p">{</span> <span class="p">(</span> <span class="mi">31</span> <span class="p">)</span> <span class="o">/</span> <span class="p">(</span> <span class="mi">31</span> <span class="p">)</span> <span class="p">}</span>
            <span class="n">DATA</span> <span class="p">{</span>
            <span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">:</span> <span class="mf">17.9261</span><span class="p">,</span> <span class="mf">17.9259</span><span class="p">,</span> <span class="mf">17.9258</span><span class="p">,</span> <span class="mf">17.9256</span><span class="p">,</span> <span class="mf">17.9254</span><span class="p">,</span> <span class="mf">17.9252</span><span class="p">,</span>
            <span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">:</span> <span class="mf">17.9251</span><span class="p">,</span> <span class="mf">17.9249</span><span class="p">,</span> <span class="mf">17.9247</span><span class="p">,</span> <span class="mf">17.9246</span><span class="p">,</span> <span class="mf">17.9244</span><span class="p">,</span> <span class="mf">17.9243</span><span class="p">,</span>
            <span class="p">(</span><span class="mi">12</span><span class="p">)</span><span class="o">:</span> <span class="mf">17.9241</span><span class="p">,</span> <span class="mf">17.9239</span><span class="p">,</span> <span class="mf">17.9237</span><span class="p">,</span> <span class="mf">17.9236</span><span class="p">,</span> <span class="mf">17.9234</span><span class="p">,</span> <span class="mf">17.9232</span><span class="p">,</span>
            <span class="p">(</span><span class="mi">18</span><span class="p">)</span><span class="o">:</span> <span class="mf">17.9231</span><span class="p">,</span> <span class="mf">17.9229</span><span class="p">,</span> <span class="mf">17.9228</span><span class="p">,</span> <span class="mf">17.9226</span><span class="p">,</span> <span class="mf">17.9224</span><span class="p">,</span> <span class="mf">17.9222</span><span class="p">,</span>
            <span class="p">(</span><span class="mi">24</span><span class="p">)</span><span class="o">:</span> <span class="mf">17.9221</span><span class="p">,</span> <span class="mf">17.9219</span><span class="p">,</span> <span class="mf">17.9217</span><span class="p">,</span> <span class="mf">17.9216</span><span class="p">,</span> <span class="mf">17.9214</span><span class="p">,</span> <span class="mf">17.9213</span><span class="p">,</span>
            <span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="o">:</span> <span class="mf">17.9211</span>
            <span class="p">}</span>
            <span class="n">ATTRIBUTE</span> <span class="s">&quot;units&quot;</span> <span class="p">{</span>
               <span class="n">DATATYPE</span>  <span class="n">H5T_STRING</span> <span class="p">{</span>
                     <span class="n">STRSIZE</span> <span class="mi">7</span><span class="p">;</span>
                     <span class="n">STRPAD</span> <span class="n">H5T_STR_NULLPAD</span><span class="p">;</span>
                     <span class="n">CSET</span> <span class="n">H5T_CSET_ASCII</span><span class="p">;</span>
                     <span class="n">CTYPE</span> <span class="n">H5T_C_S1</span><span class="p">;</span>
                  <span class="p">}</span>
               <span class="n">DATASPACE</span>  <span class="n">SCALAR</span>
               <span class="n">DATA</span> <span class="p">{</span>
               <span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">:</span> <span class="s">&quot;degrees&quot;</span>
               <span class="p">}</span>
            <span class="p">}</span>
         <span class="p">}</span>
      <span class="p">}</span>
   <span class="p">}</span>
<span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Since the output of <tt class="docutils literal"><span class="pre">h5dump</span></tt> is verbose, a tool
(see <a class="reference internal" href="index.html#h5py-example-h5totext"><em>h5toText support module</em></a>)
was created to
print out the structure of HDF5 data files.  This tool provides a simplified view
of the NeXus file.  It is run with a command like this:
<tt class="docutils literal"><span class="pre">python</span> <span class="pre">h5toText.py</span> <span class="pre">h5dump</span> <span class="pre">writer_1_3.hdf5</span></tt>.  Here is the output:</p>
<div class="highlight-guess"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span class="n">writer_1_3</span><span class="p">.</span><span class="n">hdf5</span><span class="o">:</span><span class="n">NeXus</span> <span class="n">data</span> <span class="n">file</span>
  <span class="nl">Scan:</span><span class="n">NXentry</span>
    <span class="err">@</span><span class="n">NX_class</span> <span class="o">=</span> <span class="n">NXentry</span>
    <span class="nl">data:</span><span class="n">NXdata</span>
      <span class="err">@</span><span class="n">NX_class</span> <span class="o">=</span> <span class="n">NXdata</span>
      <span class="nl">counts:</span><span class="n">NX_INT32</span><span class="p">[</span><span class="mi">31</span><span class="p">]</span> <span class="o">=</span> <span class="n">__array</span>
        <span class="err">@</span><span class="n">units</span> <span class="o">=</span> <span class="n">counts</span>
        <span class="err">@</span><span class="n">signal</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="err">@</span><span class="n">axes</span> <span class="o">=</span> <span class="n">two_theta</span>
        <span class="n">__array</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1037</span><span class="p">,</span> <span class="mi">1318</span><span class="p">,</span> <span class="mi">1704</span><span class="p">,</span> <span class="err">&#39;</span><span class="p">...</span><span class="err">&#39;</span><span class="p">,</span> <span class="mi">1321</span><span class="p">]</span>
      <span class="nl">two_theta:</span><span class="n">NX_FLOAT64</span><span class="p">[</span><span class="mi">31</span><span class="p">]</span> <span class="o">=</span> <span class="n">__array</span>
        <span class="err">@</span><span class="n">units</span> <span class="o">=</span> <span class="n">degrees</span>
        <span class="n">__array</span> <span class="o">=</span> <span class="p">[</span><span class="mf">17.926079999999999</span><span class="p">,</span> <span class="mf">17.925909999999998</span><span class="p">,</span> 
                   <span class="mf">17.925750000000001</span><span class="p">,</span> <span class="err">&#39;</span><span class="p">...</span><span class="err">&#39;</span><span class="p">,</span> <span class="mf">17.92108</span><span class="p">]</span>
</pre></div>
</td></tr></table></div>
<p>As the data files in these examples become more complex, you will appreciate
the information density provided by the <tt class="docutils literal"><span class="pre">h5toText.py</span></tt> tool.</p>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="writer_2_1.html" title="h5py example writing a simple NeXus data file with links"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="2.2.2. Python Examples using h5py"
             >previous</a> |</li>
        <li><a href="../../index.html">NeXus: Manual 3.1 documentation</a> &raquo;</li>
          <li><a href="../index.html" >2. Examples of writing and reading NeXus data files</a> &raquo;</li>
          <li><a href="index.html" >2.2.2. Python Examples using <tt class="docutils literal"><span class="pre">h5py</span></tt></a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; <a href="../../copyright.html">Copyright</a> 2014, http://nexusformat.org.
      Last updated on 2014-10-02 14:43:08 CDT.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>