

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>NAPI: The NeXus Application Programming Interface &mdash; NeXus: Manual 3.1 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '3.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="copyright" title="Copyright" href="copyright.html" />
    <link rel="top" title="NeXus: Manual 3.1 documentation" href="index.html" />
    <link rel="up" title="1.1. NeXus Introduction" href="introduction.html" />
    <link rel="next" title="1.2. NeXus Design" href="design.html" />
    <link rel="prev" title="Motivations for the NeXus standard in the Scientific Community" href="motivations.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="design.html" title="1.2. NeXus Design"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="motivations.html" title="Motivations for the NeXus standard in the Scientific Community"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">NeXus: Manual 3.1 documentation</a> &raquo;</li>
          <li><a href="user_manual.html" >1. NeXus: User Manual</a> &raquo;</li>
          <li><a href="introduction.html" accesskey="U">1.1. NeXus Introduction</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/nexuslogo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">NAPI: The NeXus Application Programming Interface</a><ul>
<li><a class="reference internal" href="#how-do-i-write-a-nexus-file">How do I write a NeXus file?</a></li>
<li><a class="reference internal" href="#how-do-i-read-a-nexus-file">How do I read a NeXus file?</a></li>
<li><a class="reference internal" href="#how-do-i-browse-a-nexus-file">How do I browse a NeXus file?</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="motivations.html"
                        title="previous chapter">Motivations for the NeXus standard in the Scientific Community</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="design.html"
                        title="next chapter">1.2. NeXus Design</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/introduction-napi.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="napi-the-nexus-application-programming-interface">
<span id="introduction-napi"></span><h1>NAPI: The NeXus Application Programming Interface<a class="headerlink" href="#napi-the-nexus-application-programming-interface" title="Permalink to this headline">¶</a></h1>
<p id="index-0">The <span class="target" id="index-1"></span>NeXus API consists of routines to read and
write NeXus data files.
It was written to provide a simple to use and consistent common interface for
all supported backends (XML, HDF4 and HDF5) to
scientific programmers and other users of the NeXus Data Standard.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is not necessary to use the NAPI to write or read
NeXus data files.  The intent of the NAPI is to simplify
the programming effort to use the HDF programming
interface.  There are <a class="reference internal" href="examples/index.html#examples"><em>Examples of writing and reading NeXus data files</em></a> to help you understand.</p>
</div>
<p>This section will provide a brief overview of the available functionality.
Further documentation of the NeXus Application Programming Interface
(NAPI) for bindings to specific programming language can be found
in the <a class="reference internal" href="napi.html#napi"><em>NAPI</em></a> chapter and may be downloaded
from the NeXus development site. <a class="footnote-reference" href="#id9" id="id1">[1]</a></p>
<p>For an even more detailed description of the internal workings of NAPI
see <a class="reference download internal" href="_downloads/NeXusIntern.pdf"><tt class="xref download docutils literal"><span class="pre">NeXusIntern.pdf</span></tt></a>, copied from the NeXus code repository.
That document is written for programmers who want to work on the NAPI itself.
If you are new to NeXus and just want to implement basic file reading or writing
you should not start by reading that.</p>
<div class="section" id="how-do-i-write-a-nexus-file">
<span id="introduction-howtowrite"></span><h2>How do I write a NeXus file?<a class="headerlink" href="#how-do-i-write-a-nexus-file" title="Permalink to this headline">¶</a></h2>
<p id="index-2">The NeXus Application Program Interface <span class="target" id="index-3"></span>(NAPI)
provides a set of subroutines that make it easy to read and write
NeXus files. These subroutines are available in C, Fortran 77, Fortran 90, Java,
Python, C++, and IDL.</p>
<p>The API uses a very simple <em>state</em>
model to navigate through a NeXus file.
(Compare this example with <a class="reference internal" href="examples/code_napi.html#example-napi-simple-2d-write"><em>NAPI Simple 2-D Write Example (C, F77, F90)</em></a>,
in the <a class="reference internal" href="napi.html#napi"><em>NAPI</em></a> chapter, using the native HDF5 commands.)
When you open a file,
the API provides a file <em>handle</em>, which stores the
current location, i.e. which group and/or field is currently open.
Read and write operations then act on the currently open entity.
Following the simple example titled
<a class="reference internal" href="introduction.html#fig-simple-example"><em>Example structure of a simple data file</em></a>,
we walk through a schematic of NeXus program written in C
(without any error checking or real data).</p>
<div class="compound">
<blockquote class="compound-first">
<div></div></blockquote>
<p class="compound-middle rubric" id="fig-ex-c-write">Writing a simple NeXus file using NAPI</p>
<div class="compound-last highlight-c"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">#include &quot;napi.h&quot;</span>

 <span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
 <span class="p">{</span>
    <span class="n">NXhandle</span> <span class="n">fileID</span><span class="p">;</span>
    <span class="n">NXopen</span> <span class="p">(</span><span class="s">&quot;NXfile.nxs&quot;</span><span class="p">,</span> <span class="n">NXACC_CREATE</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">fileID</span><span class="p">);</span>
      <span class="n">NXmakegroup</span> <span class="p">(</span><span class="n">fileID</span><span class="p">,</span> <span class="s">&quot;Scan&quot;</span><span class="p">,</span> <span class="s">&quot;NXentry&quot;</span><span class="p">);</span>
      <span class="n">NXopengroup</span> <span class="p">(</span><span class="n">fileID</span><span class="p">,</span> <span class="s">&quot;Scan&quot;</span><span class="p">,</span> <span class="s">&quot;NXentry&quot;</span><span class="p">);</span>
        <span class="n">NXmakegroup</span> <span class="p">(</span><span class="n">fileID</span><span class="p">,</span> <span class="s">&quot;data&quot;</span><span class="p">,</span> <span class="s">&quot;NXdata&quot;</span><span class="p">);</span>
        <span class="n">NXopengroup</span> <span class="p">(</span><span class="n">fileID</span><span class="p">,</span> <span class="s">&quot;data&quot;</span><span class="p">,</span> <span class="s">&quot;NXdata&quot;</span><span class="p">);</span>
        <span class="cm">/* somehow, we already have arrays tth and counts, each length n*/</span>
          <span class="n">NXmakedata</span> <span class="p">(</span><span class="n">fileID</span><span class="p">,</span> <span class="s">&quot;two_theta&quot;</span><span class="p">,</span> <span class="n">NX_FLOAT32</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">n</span><span class="p">);</span>
          <span class="n">NXopendata</span> <span class="p">(</span><span class="n">fileID</span><span class="p">,</span> <span class="s">&quot;two_theta&quot;</span><span class="p">);</span>
            <span class="n">NXputdata</span> <span class="p">(</span><span class="n">fileID</span><span class="p">,</span> <span class="n">tth</span><span class="p">);</span>
            <span class="n">NXputattr</span> <span class="p">(</span><span class="n">fileID</span><span class="p">,</span> <span class="s">&quot;units&quot;</span><span class="p">,</span> <span class="s">&quot;degrees&quot;</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">NX_CHAR</span><span class="p">);</span>
          <span class="n">NXclosedata</span> <span class="p">(</span><span class="n">fileID</span><span class="p">);</span>  <span class="cm">/* two_theta */</span>
          <span class="n">NXmakedata</span> <span class="p">(</span><span class="n">fileID</span><span class="p">,</span> <span class="s">&quot;counts&quot;</span><span class="p">,</span> <span class="n">NX_FLOAT32</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">n</span><span class="p">);</span>
          <span class="n">NXopendata</span> <span class="p">(</span><span class="n">fileID</span><span class="p">,</span> <span class="s">&quot;counts&quot;</span><span class="p">);</span>
            <span class="n">NXputdata</span> <span class="p">(</span><span class="n">fileID</span><span class="p">,</span> <span class="n">counts</span><span class="p">);</span>
          <span class="n">NXclosedata</span> <span class="p">(</span><span class="n">fileID</span><span class="p">);</span>  <span class="cm">/* counts */</span>
        <span class="n">NXclosegroup</span> <span class="p">(</span><span class="n">fileID</span><span class="p">);</span>  <span class="cm">/* data */</span>
      <span class="n">NXclosegroup</span> <span class="p">(</span><span class="n">fileID</span><span class="p">);</span>  <span class="cm">/* Scan */</span>
    <span class="n">NXclose</span> <span class="p">(</span><span class="o">&amp;</span><span class="n">fileID</span><span class="p">);</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="compound">
<p class="compound-middle rubric" id="ex-write-c">program analysis</p>
<ol class="compound-last arabic">
<li><dl class="first docutils">
<dt>line 6:</dt>
<dd><p class="first last" id="ex-write-open">Open the file <tt class="docutils literal"><span class="pre">NXfile.nxs</span></tt> with <em>create</em>
access (implying write access). NAPI <a class="footnote-reference" href="#id10" id="id2">[2]</a>
returns a file identifier of type <tt class="docutils literal"><span class="pre">NXhandle</span></tt>.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>line 7:</dt>
<dd><p class="first last" id="ex-write-entry-group">Next, we create the <a class="reference internal" href="classes/base_classes/NXentry.html#nxentry"><em>NXentry</em></a>
group to contain the scan using
<tt class="docutils literal"><span class="pre">NXmakegroup()</span></tt> and then
open it for access using <tt class="docutils literal"><span class="pre">NXopengroup()</span></tt>. <a class="footnote-reference" href="#id11" id="id3">[3]</a></p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>line 9:</dt>
<dd><p class="first last">The <span class="target" id="index-4"></span>plottable data
is contained within an <a class="reference internal" href="classes/base_classes/NXdata.html#nxdata"><em>NXdata</em></a>
group, which must also be created and opened.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>line 12:</dt>
<dd><p class="first last">To create a field, call <tt class="docutils literal"><span class="pre">NXmakedata()</span></tt>, specifying the
data name, type (<tt class="docutils literal"><span class="pre">NX_FLOAT32</span></tt>), <span class="target" id="index-5"></span>rank
(in this case, <tt class="docutils literal"><span class="pre">1</span></tt>), and length of the array
(<tt class="docutils literal"><span class="pre">n</span></tt>).  Then, it can be opened for writing. <a class="footnote-reference" href="#id12" id="id4">[4]</a></p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>line 14:</dt>
<dd><p class="first last">Write the data using <tt class="docutils literal"><span class="pre">NXputdata()</span></tt>.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>line 15:</dt>
<dd><p class="first last">With the field still open, we can also add some data
<span class="target" id="index-6"></span>attributes,
such as the <span class="target" id="index-7"></span>data units, <a class="footnote-reference" href="#id13" id="id5">[5]</a> <a class="footnote-reference" href="#id14" id="id6">[6]</a>
which are specified as a character string (<tt class="docutils literal"><span class="pre">type=&quot;NX_CHAR&quot;</span></tt> <a class="footnote-reference" href="#id15" id="id7">[7]</a>)
that is 7 bytes long.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>line 16:</dt>
<dd><p class="first last">Then we close the field before opening another.
In fact, the API will do this automatically if you
attempt to open another field, but it is
better style to close it yourself.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>line 17:</dt>
<dd><p class="first last">The remaining fields in this group are added in a similar
fashion. Note that the indentation whenever a new field or
group are opened is just intended to make the structure of
the NeXus file more transparent.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>line 20:</dt>
<dd><p class="first last">Finally, close the groups (<tt class="docutils literal"><span class="pre">NXdata</span></tt> and
<tt class="docutils literal"><span class="pre">NXentry</span></tt>) before closing the file itself.</p>
</dd>
</dl>
</li>
</ol>
</div>
</div>
<div class="section" id="how-do-i-read-a-nexus-file">
<span id="introduction-howtoread"></span><h2>How do I read a NeXus file?<a class="headerlink" href="#how-do-i-read-a-nexus-file" title="Permalink to this headline">¶</a></h2>
<p id="index-8">Reading a NeXus file works in the same way by traversing the tree with the handle.</p>
<p>This schematic C code will read the two-theta array
created in the <a class="reference internal" href="#fig-ex-c-write"><em>example above</em></a>.
(Again, compare this example with <a class="reference internal" href="examples/code_native.html#code-native-reading"><em>Reading a simple NeXus file using native HDF5 commands in C</em></a>.)</p>
<div class="compound">
<blockquote class="compound-first">
<div></div></blockquote>
<p class="compound-middle rubric" id="fig-ex-c-read">Reading a simple NeXus file using NAPI</p>
<div class="compound-last highlight-guess"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre> <span class="n">NXopen</span> <span class="p">(</span><span class="err">&#39;</span><span class="n">NXfile</span><span class="p">.</span><span class="n">nxs</span><span class="err">&#39;</span><span class="p">,</span> <span class="n">NXACC_READ</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">fileID</span><span class="p">);</span>
   <span class="n">NXopengroup</span> <span class="p">(</span><span class="n">fileID</span><span class="p">,</span> <span class="s">&quot;Scan&quot;</span><span class="p">,</span> <span class="s">&quot;NXentry&quot;</span><span class="p">);</span>
     <span class="n">NXopengroup</span> <span class="p">(</span><span class="n">fileID</span><span class="p">,</span> <span class="s">&quot;data&quot;</span><span class="p">,</span> <span class="s">&quot;NXdata&quot;</span><span class="p">);</span>
       <span class="n">NXopendata</span> <span class="p">(</span><span class="n">fileID</span><span class="p">,</span> <span class="s">&quot;two_theta&quot;</span><span class="p">);</span>
         <span class="n">NXgetinfo</span> <span class="p">(</span><span class="n">fileID</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">rank</span><span class="p">,</span> <span class="n">dims</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">datatype</span><span class="p">);</span>
         <span class="n">NXmalloc</span> <span class="p">((</span><span class="kt">void</span> <span class="o">**</span><span class="p">)</span> <span class="o">&amp;</span><span class="n">tth</span><span class="p">,</span> <span class="n">rank</span><span class="p">,</span> <span class="n">dims</span><span class="p">,</span> <span class="n">datatype</span><span class="p">);</span>
         <span class="n">NXgetdata</span> <span class="p">(</span><span class="n">fileID</span><span class="p">,</span> <span class="n">tth</span><span class="p">);</span>
       <span class="n">NXclosedata</span> <span class="p">(</span><span class="n">fileID</span><span class="p">);</span>
     <span class="n">NXclosegroup</span> <span class="p">(</span><span class="n">fileID</span><span class="p">);</span>
   <span class="n">NXclosegroup</span> <span class="p">(</span><span class="n">fileID</span><span class="p">);</span>
 <span class="n">NXclose</span> <span class="p">(</span><span class="n">fileID</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="how-do-i-browse-a-nexus-file">
<span id="introduction-howtobrowse"></span><h2>How do I browse a NeXus file?<a class="headerlink" href="#how-do-i-browse-a-nexus-file" title="Permalink to this headline">¶</a></h2>
<p id="index-9">NeXus files can also be viewed by a command-line browser,
<tt class="docutils literal"><span class="pre">nxbrowse</span></tt>, which is included as a helper tool in the
<a class="reference internal" href="#introduction-napi"><em>NeXus API</em></a>
distribution. The <a class="reference internal" href="#fig-nxbrowse"><em>following</em></a>
is an example session of <span class="target" id="index-10"></span>nxbrowse
<tt class="docutils literal"><span class="pre">nxbrowse</span></tt> to view a data file.</p>
<div class="compound">
<blockquote class="compound-first">
<div></div></blockquote>
<p class="compound-middle rubric" id="fig-nxbrowse">Using <tt class="docutils literal"><span class="pre">nxbrowse</span></tt></p>
<div class="compound-middle highlight-guess"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43</pre></div></td><td class="code"><div class="highlight"><pre><span class="c">%&gt; nxbrowse lrcs3701.nxs</span>

<span class="n">NXBrowse</span> <span class="mf">3.0</span><span class="p">.</span><span class="mf">0.</span> <span class="n">Copyright</span> <span class="p">(</span><span class="n">C</span><span class="p">)</span> <span class="mi">2000</span> <span class="n">R</span><span class="p">.</span> <span class="n">Osborn</span><span class="p">,</span> <span class="n">M</span><span class="p">.</span> <span class="n">Koennecke</span><span class="p">,</span> <span class="n">P</span><span class="p">.</span> <span class="n">Klosowski</span>
    <span class="n">NeXus_version</span> <span class="p">=</span> <span class="mf">1.3</span><span class="p">.</span><span class="mi">3</span>
    <span class="n">file_name</span> <span class="p">=</span> <span class="n">lrcs3701</span><span class="p">.</span><span class="n">nxs</span>
    <span class="n">file_time</span> <span class="p">=</span> <span class="mi">2001</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">11</span> <span class="mi">00</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">35</span><span class="o">-</span><span class="mi">0600</span>
    <span class="n">user</span> <span class="p">=</span> <span class="n">EAG</span><span class="o">/</span><span class="n">RO</span>
<span class="n">NX</span><span class="o">&gt;</span> <span class="n">dir</span>
  <span class="n">NX</span> <span class="n">Group</span> <span class="p">:</span> <span class="n">Histogram1</span> <span class="p">(</span><span class="n">NXentry</span><span class="p">)</span>
  <span class="n">NX</span> <span class="n">Group</span> <span class="p">:</span> <span class="n">Histogram2</span> <span class="p">(</span><span class="n">NXentry</span><span class="p">)</span>
<span class="n">NX</span><span class="o">&gt;</span> <span class="n">open</span> <span class="n">Histogram1</span>
<span class="n">NX</span><span class="o">/</span><span class="n">Histogram1</span><span class="o">&gt;</span> <span class="n">dir</span>
  <span class="n">NX</span> <span class="n">Data</span>  <span class="p">:</span> <span class="n">title</span><span class="p">[</span><span class="mi">44</span><span class="p">]</span> <span class="p">(</span><span class="n">NX_CHAR</span><span class="p">)</span>
  <span class="n">NX</span> <span class="n">Data</span>  <span class="p">:</span> <span class="n">analysis</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="p">(</span><span class="n">NX_CHAR</span><span class="p">)</span>
  <span class="n">NX</span> <span class="n">Data</span>  <span class="p">:</span> <span class="n">start_time</span><span class="p">[</span><span class="mi">24</span><span class="p">]</span> <span class="p">(</span><span class="n">NX_CHAR</span><span class="p">)</span>
  <span class="n">NX</span> <span class="n">Data</span>  <span class="p">:</span> <span class="n">end_time</span><span class="p">[</span><span class="mi">24</span><span class="p">]</span> <span class="p">(</span><span class="n">NX_CHAR</span><span class="p">)</span>
  <span class="n">NX</span> <span class="n">Data</span>  <span class="p">:</span> <span class="n">run_number</span> <span class="p">(</span><span class="n">NX_INT32</span><span class="p">)</span>
  <span class="n">NX</span> <span class="n">Group</span> <span class="p">:</span> <span class="n">sample</span> <span class="p">(</span><span class="n">NXsample</span><span class="p">)</span>
  <span class="n">NX</span> <span class="n">Group</span> <span class="p">:</span> <span class="n">LRMECS</span> <span class="p">(</span><span class="n">NXinstrument</span><span class="p">)</span>
  <span class="n">NX</span> <span class="n">Group</span> <span class="p">:</span> <span class="n">monitor1</span> <span class="p">(</span><span class="n">NXmonitor</span><span class="p">)</span>
  <span class="n">NX</span> <span class="n">Group</span> <span class="p">:</span> <span class="n">monitor2</span> <span class="p">(</span><span class="n">NXmonitor</span><span class="p">)</span>
  <span class="n">NX</span> <span class="n">Group</span> <span class="p">:</span> <span class="n">data</span> <span class="p">(</span><span class="n">NXdata</span><span class="p">)</span>
<span class="n">NX</span><span class="o">/</span><span class="n">Histogram1</span><span class="o">&gt;</span> <span class="n">read</span> <span class="n">title</span>
  <span class="n">title</span><span class="p">[</span><span class="mi">44</span><span class="p">]</span> <span class="p">(</span><span class="n">NX_CHAR</span><span class="p">)</span> <span class="p">=</span> <span class="n">MgB2</span> <span class="n">PDOS</span> <span class="mf">43.37</span><span class="n">g</span> <span class="mi">8</span><span class="n">K</span> <span class="mi">120</span><span class="n">meV</span> <span class="n">E0</span><span class="p">@</span><span class="mi">240</span><span class="n">Hz</span> <span class="n">T0</span><span class="p">@</span><span class="mi">120</span><span class="n">Hz</span>
<span class="n">NX</span><span class="o">/</span><span class="n">Histogram1</span><span class="o">&gt;</span> <span class="n">open</span> <span class="n">data</span>
<span class="n">NX</span><span class="o">/</span><span class="n">Histogram1</span><span class="o">/</span><span class="n">data</span><span class="o">&gt;</span> <span class="n">dir</span>
  <span class="n">NX</span> <span class="n">Data</span>  <span class="p">:</span> <span class="n">title</span><span class="p">[</span><span class="mi">44</span><span class="p">]</span> <span class="p">(</span><span class="n">NX_CHAR</span><span class="p">)</span>
  <span class="n">NX</span> <span class="n">Data</span>  <span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="mi">148</span><span class="p">,</span><span class="mi">750</span><span class="p">]</span> <span class="p">(</span><span class="n">NX_INT32</span><span class="p">)</span>
  <span class="n">NX</span> <span class="n">Data</span>  <span class="p">:</span> <span class="n">time_of_flight</span><span class="p">[</span><span class="mi">751</span><span class="p">]</span> <span class="p">(</span><span class="n">NX_FLOAT32</span><span class="p">)</span>
  <span class="n">NX</span> <span class="n">Data</span>  <span class="p">:</span> <span class="n">polar_angle</span><span class="p">[</span><span class="mi">148</span><span class="p">]</span> <span class="p">(</span><span class="n">NX_FLOAT32</span><span class="p">)</span>
<span class="n">NX</span><span class="o">/</span><span class="n">Histogram1</span><span class="o">/</span><span class="n">data</span><span class="o">&gt;</span> <span class="n">read</span> <span class="n">time_of_flight</span>
  <span class="n">time_of_flight</span><span class="p">[</span><span class="mi">751</span><span class="p">]</span> <span class="p">(</span><span class="n">NX_FLOAT32</span><span class="p">)</span> <span class="p">=</span> <span class="p">[</span> <span class="mf">1900.000000</span> <span class="mf">1902.000000</span> <span class="mf">1904.000000</span> <span class="c">...]</span>
    <span class="n">units</span> <span class="p">=</span> <span class="n">microseconds</span>
    <span class="n">long_name</span> <span class="p">=</span> <span class="n">Time</span><span class="o">-</span><span class="n">of</span><span class="o">-</span><span class="n">Flight</span> <span class="p">[</span><span class="n">microseconds</span><span class="p">]</span>
<span class="n">NX</span><span class="o">/</span><span class="n">Histogram1</span><span class="o">/</span><span class="n">data</span><span class="o">&gt;</span> <span class="n">read</span> <span class="n">data</span>
  <span class="n">data</span><span class="p">[</span><span class="mi">148</span><span class="p">,</span><span class="mi">750</span><span class="p">]</span> <span class="p">(</span><span class="n">NX_INT32</span><span class="p">)</span> <span class="p">=</span> <span class="p">[</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span> <span class="c">...]</span>
    <span class="n">units</span> <span class="p">=</span> <span class="n">counts</span>
    <span class="n">signal</span> <span class="p">=</span> <span class="mi">1</span> 
    <span class="n">long_name</span> <span class="p">=</span> <span class="n">Neutron</span> <span class="n">Counts</span>
    <span class="n">axes</span> <span class="p">=</span> <span class="n">polar_angle</span><span class="p">:</span><span class="n">time_of_flight</span>
<span class="n">NX</span><span class="o">/</span><span class="n">Histogram1</span><span class="o">/</span><span class="n">data</span><span class="o">&gt;</span> <span class="n">close</span>
<span class="n">NX</span><span class="o">/</span><span class="n">Histogram1</span><span class="o">&gt;</span> <span class="n">close</span>
<span class="n">NX</span><span class="o">&gt;</span> <span class="n">quit</span>
</pre></div>
</td></tr></table></div>
<p class="compound-middle rubric" id="fig-using-nxbrowse">program analysis</p>
<ol class="compound-last arabic">
<li><dl class="first docutils">
<dt>line 1:</dt>
<dd><p class="first last">Start <tt class="docutils literal"><span class="pre">nxbrowse</span></tt> from the UNIX command
line and open file <tt class="docutils literal"><span class="pre">lrcs3701.nxs</span></tt> from
IPNS/LRMECS.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>line 8:</dt>
<dd><p class="first last">List the contents of the current group.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>line 11:</dt>
<dd><p class="first last">Open the NeXus group <tt class="docutils literal"><span class="pre">Histogram1</span></tt>.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>line 23:</dt>
<dd><p class="first last">Print the contents of the NeXus data labeled <tt class="docutils literal"><span class="pre">title</span></tt>.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>line 41:</dt>
<dd><p class="first last">Close the current group.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>line 43:</dt>
<dd><p class="first last">Quits <tt class="docutils literal"><span class="pre">nxbrowse</span></tt>.</p>
</dd>
</dl>
</li>
</ol>
</div>
<p>The source code of <tt class="docutils literal"><span class="pre">nxbrowse</span></tt> <a class="footnote-reference" href="#id16" id="id8">[8]</a>
provides an example of how to write a NeXus reader.
The test programs included in the <a class="reference internal" href="#introduction-napi"><em>NeXus
API</em></a> may also be useful to study.</p>
<table class="docutils footnote" frame="void" id="id9" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td><a class="reference external" href="http://download.nexusformat.org">http://download.nexusformat.org</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id10" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td><a class="reference internal" href="napi.html#napi"><em>NAPI: NeXus Application Programmer Interface (frozen)</em></a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id11" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[3]</a></td><td>See the chapter
<a class="reference internal" href="classes/base_classes/index.html#base-class-definitions"><em>Base Class Definitions</em></a>
for more information.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id12" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[4]</a></td><td>The <a class="reference internal" href="datarules.html#design-datatypes"><em>NeXus Data Types</em></a>
section describes the available
data types, such as <tt class="docutils literal"><span class="pre">NX_FLOAT32</span></tt>
and <tt class="docutils literal"><span class="pre">NX_CHAR</span></tt>.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id13" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[5]</a></td><td><a class="reference internal" href="datarules.html#design-units"><em>NeXus Data Units</em></a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id14" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id6">[6]</a></td><td>The NeXus rule about data units is described in the
<a class="reference internal" href="datarules.html#design-units"><em>NeXus Data Units</em></a> section.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id15" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id7">[7]</a></td><td>see <a class="reference internal" href="nxdl-types.html#nxdl-types"><em>Data Types allowed in NXDL specifications</em></a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id16" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id8">[8]</a></td><td><a class="reference external" href="https://svn.nexusformat.org/code/trunk/applications/NXbrowse/NXbrowse.c">https://svn.nexusformat.org/code/trunk/applications/NXbrowse/NXbrowse.c</a></td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="design.html" title="1.2. NeXus Design"
             >next</a> |</li>
        <li class="right" >
          <a href="motivations.html" title="Motivations for the NeXus standard in the Scientific Community"
             >previous</a> |</li>
        <li><a href="index.html">NeXus: Manual 3.1 documentation</a> &raquo;</li>
          <li><a href="user_manual.html" >1. NeXus: User Manual</a> &raquo;</li>
          <li><a href="introduction.html" >1.1. NeXus Introduction</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; <a href="copyright.html">Copyright</a> 2014, http://nexusformat.org.
      Last updated on 2014-10-02 14:43:08 CDT.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>